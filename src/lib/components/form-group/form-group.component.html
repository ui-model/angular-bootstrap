<div *ngIf="form && group" [formGroup]="group" class="row">
  <ng-container *ngFor="let field of form.properties">
    <div *ngIf="!field.hidden" [ngClass]="field|fieldCss" [uiFieldMetadata]="field">
      <ui-form-control *ngIf="field.isControl" [field]="field" [group]="group" [readonly]="readonly"></ui-form-control>
      <ui-form-array *ngIf="field.isArray" [field]="field" [group]="group" [readonly]="readonly"></ui-form-array>
      <fieldset *ngIf="field.isGroup">
        <legend>{{field.label}}</legend>
        <ui-form-group [group]="group.get(field.name)" [readonly]="readonly"></ui-form-group>
      </fieldset>
      <ui-field-error [field]="group.get(field.name)" [messages]="field.errors"></ui-field-error>
    </div>
  </ng-container>
</div>
